<div class="max-w-3xl mx-auto p-6 bg-white shadow-lg rounded-2xl mt-20">
  <div class="flex items-center justify-start mb-10 mt-4">
    <svg
      viewBox="0 0 24 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="size-12"
    >
      <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
      <g
        id="SVGRepo_tracerCarrier"
        stroke-linecap="round"
        stroke-linejoin="round"
      ></g>
      <g id="SVGRepo_iconCarrier">
        <path
          d="M15 16C14.7164 14.8589 13.481 14 12 14C10.519 14 9.28364 14.8589 9 16M11 3H13M12 10H12.01M8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.0799 3 8.2V16.8C3 17.9201 3 18.4802 3.21799 18.908C3.40973 19.2843 3.71569 19.5903 4.09202 19.782C4.51984 20 5.0799 20 6.2 20H17.8C18.9201 20 19.4802 20 19.908 19.782C20.2843 19.5903 20.5903 19.2843 20.782 18.908C21 18.4802 21 17.9201 21 16.8V8.2C21 7.07989 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H16M13 10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10C11 9.44772 11.4477 9 12 9C12.5523 9 13 9.44772 13 10Z"
          stroke="#000000"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></path>
      </g>
    </svg>

    <h2 class="text-2xl ml-2 font-extrabold text-gray-800">Edit Tamu</h2>
  </div>

  <!-- Alert Success -->
  <div
    *ngIf="success"
    class="mb-4 p-3 rounded-lg bg-green-100 text-green-700 font-medium"
  >
    {{ success }}
  </div>

  <!-- Alert Error -->
  <div
    *ngIf="error"
    class="mb-4 p-3 rounded-lg bg-red-100 text-red-700 font-medium"
  >
    {{ error }}
  </div>

  <form
    (ngSubmit)="updateGuest()"
    class="grid grid-cols-1 sm:grid-cols-2 gap-4"
  >
    <!-- Fullname -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Nama Lengkap</label>
      <input
        type="text"
        [(ngModel)]="guest.fullname"
        name="fullname"
        required
        placeholder="Masukan Nama Lengkap"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <!-- ID Card -->
    <div>
      <label class="block text-gray-700 font-medium mb-1"
        >Nomor Identitas</label
      >
      <input
        type="text"
        [(ngModel)]="guest.id_card"
        name="id_card"
        required
        placeholder="Masukan Nomor Identitas"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <!-- Email -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Email</label>
      <input
        type="email"
        [(ngModel)]="guest.email"
        name="email"
        placeholder="Masukan Email"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <!-- Phone -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Nomor Telepon</label>
      <input
        type="text"
        [(ngModel)]="guest.phone"
        name="phone"
        placeholder="Masukan Nomor Handphone"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <!-- Company -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Perusahaan</label>
      <input
        type="text"
        [(ngModel)]="guest.company"
        name="company"
        placeholder="Masukan Nama Perusahaan"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <!-- Visit Purpose -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Tujuan</label>
      <select
        [(ngModel)]="guest.visit_purpose"
        name="visit_purpose"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      >
        <option value="" selected disabled>Pilih Tujuan</option>
        <option value="Meeting">Meeting</option>
        <option value="Interview">Interview</option>
        <option value="Business Visit">Business Visit</option>
        <option value="Maintenance">Maintenance</option>
        <option value="Delivery">Delivery</option>
        <option value="Psikotest">Psikotest</option>
        <option value="Vendor">Vendor</option>
        <option value="Lain-lain">Lain-lain</option>
      </select>
    </div>

    <!-- Visit Date -->
    <div>
      <label class="block text-gray-700 font-medium mb-1"
        >Tanggal Kunjungan</label
      >
      <input
        type="date"
        [(ngModel)]="guest.visit_date"
        name="visit_date"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <!-- Status -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Status</label>
      <select
        [(ngModel)]="guest.status"
        name="status"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      >
        <option value="" selected disabled>Pilih Status</option>
        <option value="expected">Dijadwalkan</option>
        <option value="checked_in">Check-in</option>
        <option value="checked_out">Check-out</option>
        <option value="cancelled">Dibatalkan</option>
      </select>
    </div>

    <!-- Check-in -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Check-in</label>
      <input
        type="datetime-local"
        [(ngModel)]="guest.check_in"
        name="check_in"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <!-- Check-out -->
    <div>
      <label class="block text-gray-700 font-medium mb-1">Check-out</label>
      <input
        type="datetime-local"
        [(ngModel)]="guest.check_out"
        name="check_out"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <!-- Submit -->
    <div class="col-span-1 sm:col-span-2 pt-4">
      <button
        type="submit"
        [disabled]="loading"
        class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"
      >
        {{ loading ? "Menyimpan..." : "Update" }}
      </button>
    </div>
  </form>
</div>
